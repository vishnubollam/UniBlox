"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.listStacks = listStacks;
require("@jsii/check-node/run");
const cloud_assembly_1 = require("./api/cxapp/cloud-assembly");
/**
 * List Stacks
 *
 * @param toolkit cdk toolkit
 * @param options list stacks options
 * @returns StackDetails[]
 */
async function listStacks(toolkit, options) {
    const assembly = await toolkit.assembly();
    const stacks = await assembly.selectStacks({
        patterns: options.selectors,
    }, {
        extend: cloud_assembly_1.ExtendedStackSelection.Upstream,
        defaultBehavior: cloud_assembly_1.DefaultSelection.AllStacks,
    });
    return stacks.withDependencies();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC1zdGFja3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJsaXN0LXN0YWNrcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQXdCQSxnQ0FXQztBQWxDRCxnQ0FBOEI7QUFDOUIsK0RBQXlHO0FBZXpHOzs7Ozs7R0FNRztBQUNJLEtBQUssVUFBVSxVQUFVLENBQUMsT0FBbUIsRUFBRSxPQUEwQjtJQUM5RSxNQUFNLFFBQVEsR0FBRyxNQUFNLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUUxQyxNQUFNLE1BQU0sR0FBRyxNQUFNLFFBQVEsQ0FBQyxZQUFZLENBQUM7UUFDekMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxTQUFTO0tBQzVCLEVBQUU7UUFDRCxNQUFNLEVBQUUsdUNBQXNCLENBQUMsUUFBUTtRQUN2QyxlQUFlLEVBQUUsaUNBQWdCLENBQUMsU0FBUztLQUM1QyxDQUFDLENBQUM7SUFFSCxPQUFPLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0FBQ25DLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCAnQGpzaWkvY2hlY2stbm9kZS9ydW4nO1xuaW1wb3J0IHsgRGVmYXVsdFNlbGVjdGlvbiwgRXh0ZW5kZWRTdGFja1NlbGVjdGlvbiwgdHlwZSBTdGFja0RldGFpbHMgfSBmcm9tICcuL2FwaS9jeGFwcC9jbG91ZC1hc3NlbWJseSc7XG5pbXBvcnQgeyBDZGtUb29sa2l0IH0gZnJvbSAnLi9jbGkvY2RrLXRvb2xraXQnO1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIExpc3QgU3RhY2tzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdFN0YWNrc09wdGlvbnMge1xuICAvKipcbiAgICogU3RhY2tzIHRvIGxpc3RcbiAgICpcbiAgICogQGRlZmF1bHQgLSBBbGwgc3RhY2tzIGFyZSBsaXN0ZWRcbiAgICovXG4gIHJlYWRvbmx5IHNlbGVjdG9yczogc3RyaW5nW107XG59XG5cbi8qKlxuICogTGlzdCBTdGFja3NcbiAqXG4gKiBAcGFyYW0gdG9vbGtpdCBjZGsgdG9vbGtpdFxuICogQHBhcmFtIG9wdGlvbnMgbGlzdCBzdGFja3Mgb3B0aW9uc1xuICogQHJldHVybnMgU3RhY2tEZXRhaWxzW11cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RTdGFja3ModG9vbGtpdDogQ2RrVG9vbGtpdCwgb3B0aW9uczogTGlzdFN0YWNrc09wdGlvbnMpOiBQcm9taXNlPFN0YWNrRGV0YWlsc1tdPiB7XG4gIGNvbnN0IGFzc2VtYmx5ID0gYXdhaXQgdG9vbGtpdC5hc3NlbWJseSgpO1xuXG4gIGNvbnN0IHN0YWNrcyA9IGF3YWl0IGFzc2VtYmx5LnNlbGVjdFN0YWNrcyh7XG4gICAgcGF0dGVybnM6IG9wdGlvbnMuc2VsZWN0b3JzLFxuICB9LCB7XG4gICAgZXh0ZW5kOiBFeHRlbmRlZFN0YWNrU2VsZWN0aW9uLlVwc3RyZWFtLFxuICAgIGRlZmF1bHRCZWhhdmlvcjogRGVmYXVsdFNlbGVjdGlvbi5BbGxTdGFja3MsXG4gIH0pO1xuXG4gIHJldHVybiBzdGFja3Mud2l0aERlcGVuZGVuY2llcygpO1xufVxuIl19